/*****************************************************************************************************************************
 * \file   : adcSampling.h    
 * \module : adcSampling
 * \brief  : 
 * \project: NEO-180160-SM
 * \author : ZBL
 *============================================================================================================================
 *                                                   Revision control History
 *============================================================================================================================
 * V1.0.0: 2023-09-19: Initial Version
 *
 *
 *
 ****************************************************************************************************************************/
#ifndef ADCSAMPILNG_H
#define	ADCSAMPILNG_H

/*****************************************************************************************************************************
 * Other Header File Inclusion 
 ****************************************************************************************************************************/
#include "stm32g0xx_hal.h"
#include "gpio.h"
#include "main.h"
#include "MainControl.h"

/*****************************************************************************************************************************
 * Compile Option or configuration Section (for/debug)                                                
 ****************************************************************************************************************************/

/*****************************************************************************************************************************
 * Macro Definition
 ****************************************************************************************************************************/


/*****************************************************************************************************************************
 * Enumeration Definition
 ****************************************************************************************************************************/

/*****************************************************************************************************************************
 * Typedef Definition
 ****************************************************************************************************************************/
typedef struct ADC_SAMPLING
{
  int32_t DivVal[ADC_DIVISION_VAL];     //采样值数组
  int32_t SumVal;                       //采样值和值
  int32_t NowVal;                       //运算后的真实的有效值
  int32_t ThresholdMax;                 //阈值
  int32_t ThresholdMin;                 //阈值
  int32_t MaxTempRun;                   //运行状态下最大值
  int32_t MinTempRun;                   //运行状态下最小值
  int32_t MaxTempStop;                  //停止状态下最大值
  int32_t MinTempStop;                  //停止状态下最小值
  uint8_t DivNum;                       //采样值下标
  uint8_t SamplingFalg;                 //一轮原始采集值有效标识
  uint8_t CurFlag;                      //运算后的真实的有效值，有效标识
}stADC_SAMPLING;

/*****************************************************************************************************************************
 * Table Definition
 ****************************************************************************************************************************/

/*****************************************************************************************************************************
 * Global Function Prototypes
 ****************************************************************************************************************************/

__IO extern stADC_SAMPLING mFanAdc;
__IO extern stADC_SAMPLING mMotorAdc[3];
__IO extern stADC_SAMPLING mPowerAdcB;
__IO extern stADC_SAMPLING mTemplateAdc;
__IO extern stADC_SAMPLING mVrefVal;
__IO extern stADC_SAMPLING mNtc10KAdc;

extern int32_t mFanAdcAvg[10];
extern void adcSampling(void);
extern void InitSampling(void);
extern void adcCallback(void);

#endif
/*****************************************************************************************************************************
 * END OF FILE: StepMotor.h
 ****************************************************************************************************************************/
